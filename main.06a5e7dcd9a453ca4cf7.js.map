{"version":3,"sources":["webpack:///./js/refs.js","webpack:///./js/images-api.js","webpack:///./js/markup.js","webpack:///./js/fetch-images.js","webpack:///./js/notifications.js","webpack:///./js/search-form.js","webpack:///./index.js","webpack:///./templates/imageCards.hbs"],"names":["refs","formSearchInput","document","querySelector","gallery","button","loader","searchQuery","page","imageLarge","instance","fetchImages","url","this","fetch","then","response","json","hits","resetPage","value","refImageLarge","openImage","basicLightbox","show","closeImage","close","markUp","cards","insertAdjacentHTML","tplImagesCards","openImages","event","preventDefault","target","nodeName","imagesApi","dataset","src","window","addEventListener","closeEsc","code","removeEventListener","classList","add","images","remove","scrollTo","top","documentElement","offsetHeight","behavior","finally","catch","error","console","log","PNotify","styling","icons","searchForm","innerHTML","query","notificationsNotice","text","delay","on","notificationsSuccess","debounce","Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop"],"mappings":"yIAQeA,EAPF,CACXC,gBAAgBC,SAASC,cAAc,sBACvCC,QAAQF,SAASC,cAAc,YAC/BE,OAAOH,SAASC,cAAc,uBAC9BG,OAAOJ,SAASC,cAAc,Y,yGCDjB,GACbI,YAAa,GACbC,KAAK,EACLC,WAAW,GACXC,SAAS,GACTC,YALa,WAKC,WACRC,EAAG,sEAAuEC,KAAKN,YAA5E,WACHM,KAAKL,KADF,sDAGT,OAAOM,MAAMF,GACVG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,YAAY,IAAVG,EAAU,EAAVA,KAEN,OADA,EAAKV,MAAM,EACJU,MAIbC,UAjBe,WAkBXN,KAAKL,KAAK,GAGd,YACI,OAAOK,KAAKN,aAGhB,UAAUa,GACRP,KAAKN,YAAYa,GAGnBC,cA7Be,SA6BDD,GACVP,KAAKJ,WAAWW,GAElBE,UAhCa,WAiCVT,KAAKH,SAAUa,SAAA,mBACJV,KAAKJ,WADD,kCAIhBI,KAAKH,SAASc,QAIlBC,WAzCe,WA0CbZ,KAAKH,SAASgB,U,qBCvCDC,MAJf,SAAgBC,GACd5B,EAAKI,QAAQyB,mBAAmB,YAAYC,IAAeF,K,UCiD7D,SAASG,EAAWC,GAClBA,EAAMC,iBAEwB,QAA1BD,EAAME,OAAOC,WAIlBC,EAAUf,cAAcW,EAAME,OAAOG,QAAQC,KAC7CF,EAAUd,YAETiB,OAAOC,iBAAiB,UAAUC,IAIpC,SAASA,EAAST,GACE,WAAfA,EAAMU,OACPH,OAAOI,oBAAoB,UAAUF,GACrCL,EAAUX,cAWCd,MA3Ef,WACEX,EAAKK,OAAOuC,UAAUC,IAAI,cAC1B7C,EAAKM,OAAOsC,UAAUC,IAAI,aAC1BT,EAAUzB,cAAcI,MAAK,SAAA+B,GAC3BnB,EAAOmB,GAIP9C,EAAKI,QAAQoC,iBAAiB,QAAQT,GACtC/B,EAAKK,OAAOuC,UAAUG,OAAO,cAE3BR,OAAOS,SAAS,CACdC,IAAK/C,SAASgD,gBAAgBC,aAC9BC,SAAU,cAIdC,SAAQ,WACRrD,EAAKM,OAAOsC,UAAUG,OAAO,gBAC5BO,OAAM,SAAAC,GAAK,OAAGC,QAAQC,IAAIF,O,gCCrB/BG,WAAiBC,QAAU,WAC3BD,WAAiBE,MAAQ,WCmBVC,MAnBf,SAAoB7B,GAIlB,GAHAhC,EAAKI,QAAQ0D,UAAU,GACvB1B,EAAU2B,MAAQ/B,EAAME,OAAOd,OAE3BgB,EAAU2B,MAIZ,OAHA/D,EAAKI,QAAQ0D,UAAU,GACvB9D,EAAKK,OAAOuC,UAAUC,IAAI,mBDQtBmB,EAAsBN,OAAa,CACvCO,KAAM,sBACNC,MAAO,OAGWC,GAAG,SAAS,WAC9BH,EAAoBtC,WAPxB,IACQsC,EAZsBC,EACtBG,EADsBH,ECUP7B,EAAU2B,ODTzBK,EAAuBV,UAAgB,CAC3CO,KAAM,iBAAiBA,EACvBC,MAAO,OAGYC,GAAG,SAAS,WAC/BC,EAAqB1C,WCIvBU,EAAUjB,YAEVR,KCXFX,EAAKC,gBAAgBuC,iBAAiB,QAAQ6B,IAASR,EAAW,MAClE7D,EAAKK,OAAOmC,iBAAiB,QAAQ7B,I,qBCVrC,IAAI2D,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,EAAI,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC5G,IAAIC,EAAQC,EAAiB,MAAVL,EAAiBA,EAAUD,EAAUO,aAAe,GAAKC,EAAOR,EAAUS,MAAMC,cAAeC,EAAO,WAAYC,EAAOZ,EAAUa,iBAAkBC,EAAiBd,EAAUc,gBAAkB,SAASC,EAAQC,GAClO,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,sFACHJ,SAASP,EAAmI,OAAzHA,EAASS,EAAeZ,EAAQ,kBAA8B,MAAVD,EAAiBa,EAAeb,EAAO,gBAAkBA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,eAAe,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GACxU,eACAO,SAASP,EAAqI,OAA3HA,EAASS,EAAeZ,EAAQ,mBAA+B,MAAVD,EAAiBa,EAAeb,EAAO,iBAAmBA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,gBAAgB,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GAC3U,UACAO,SAASP,EAAmH,OAAzGA,EAASS,EAAeZ,EAAQ,UAAsB,MAAVD,EAAiBa,EAAeb,EAAO,QAAUA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,QAAUC,GACjT,sKACAO,SAASP,EAAqH,OAA3GA,EAASS,EAAeZ,EAAQ,WAAuB,MAAVD,EAAiBa,EAAeb,EAAO,SAAWA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,QAAQ,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,GAAG,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GAClT,kHACAO,SAASP,EAAqH,OAA3GA,EAASS,EAAeZ,EAAQ,WAAuB,MAAVD,EAAiBa,EAAeb,EAAO,SAAWA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,QAAQ,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,GAAG,IAAM,CAAC,KAAO,GAAG,OAAS,OAASC,GACpT,+GACAO,SAASP,EAA2H,OAAjHA,EAASS,EAAeZ,EAAQ,cAA0B,MAAVD,EAAiBa,EAAeb,EAAO,YAAcA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,WAAW,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,GAAG,IAAM,CAAC,KAAO,GAAG,OAAS,OAASC,GAC7T,sHACAO,SAASP,EAA6H,OAAnHA,EAASS,EAAeZ,EAAQ,eAA2B,MAAVD,EAAiBa,EAAeb,EAAO,aAAeA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,YAAY,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,GAAG,IAAM,CAAC,KAAO,GAAG,OAAS,OAASC,GAChU,+CACJ,SAAW,CAAC,EAAE,YAAY,KAAO,SAASL,EAAUC,EAAOC,EAAQC,EAASC,GAC1E,IAAIiB,EAON,OAA+R,OAAtRA,GAPsBrB,EAAUc,gBAAkB,SAASC,EAAQC,GACtE,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,KAKWd,EAAQ,QAAQkB,KAAe,MAAVnB,EAAiBA,EAAUD,EAAUO,aAAe,GAAIN,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,GAAKD,EAAUsB,QAAQ,EAAGlB,EAAM,GAAG,QAAUJ,EAAUuB,KAAK,KAAOnB,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,GAAG,IAAM,CAAC,KAAO,GAAG,OAAS,OAAiBiB,EAAS,IAC/S,SAAU,M","file":"main.06a5e7dcd9a453ca4cf7.js","sourcesContent":["\nconst refs = {\n  formSearchInput:document.querySelector('#search-form input'),\n  gallery:document.querySelector('.gallery'),\n  button:document.querySelector('.js-gallery__button'),\n  loader:document.querySelector('.loader'),\n\n}\nexport default refs;\n","import * as basicLightbox from 'basiclightbox';\n\nconst apiKey='19660658-df8ff8bd936b185aad4fd3dcc';\n\nexport default {\n  searchQuery: '',\n  page:1,\n  imageLarge:'',\n  instance:'',\n  fetchImages() {\n  const url=`https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${this.searchQuery}\n&page=${this.page}&per_page=12&key=${apiKey}`;\n\n  return fetch(url)\n    .then(response => response.json())\n    .then(({hits}) => {\n      this.page+=1;\n      return hits;\n      }\n    )\n},\nresetPage() {\n    this.page=1\n},\n\nget query() {\n    return this.searchQuery;\n},\n\nset query(value) {\n  this.searchQuery=value;\n},\n\nrefImageLarge(value) {\n    this.imageLarge=value;\n},\n  openImage() {\n     this.instance= basicLightbox.create(`\n    <img src='${this.imageLarge}' width='1000' height='600'>\n`);\n\n    this.instance.show();\n\n\n  },\ncloseImage() {\n  this.instance.close()\n},\n\n};\n","import refs from './refs';\nimport tplImagesCards from '../templates/imageCards.hbs';\n\nfunction markUp(cards) {\n  refs.gallery.insertAdjacentHTML('beforeend',tplImagesCards(cards));\n}\n\nexport default markUp;\n","import refs from './refs';\nimport imagesApi from './images-api';\nimport markUp from './markup';\nimport 'basiclightbox/dist/basicLightbox.min.css';\n\n\nfunction fetchImages() {\n  refs.button.classList.add('visibility');\n  refs.loader.classList.add('is-active');\n  imagesApi.fetchImages().then(images => {\n    markUp(images);\n\n      // lazyLoad();\n\n    refs.gallery.addEventListener('click',openImages);\n    refs.button.classList.remove('visibility');\n\n      window.scrollTo({\n        top: document.documentElement.offsetHeight,\n        behavior: 'smooth'\n      });\n\n  }\n  ).finally(()=> {\n    refs.loader.classList.remove('is-active');\n  }).catch(error =>console.log(error))\n}\n\n\nfunction lazyLoad() {\n  const observer = new IntersectionObserver((entries, observer) => {\n    entries.forEach(entry => {\n      if (entry.isIntersecting) {\n        imagesApi.fetchImages().then(images => {\n            markUp(images);\n          }\n\n        )\n      }\n      // observer.unobserve(entry.target)\n      observer.observe(document.querySelector('li:last-child'))\n    })\n  }, {\n\n    threshold: 1\n  })\n\n\n\n  observer.observe(document.querySelector('li'))\n}\n\n\nfunction openImages(event) {\n  event.preventDefault();\n\n  if (event.target.nodeName !== 'IMG') {\n    return;\n  }\n\n imagesApi.refImageLarge(event.target.dataset.src);\n imagesApi.openImage();\n\n  window.addEventListener('keydown',closeEsc)\n}\n\n\nfunction closeEsc(event) {\n  if(event.code === 'Escape') {\n    window.removeEventListener('keydown',closeEsc);\n    imagesApi.closeImage()\n\n  }\n\n}\n\n\n\n\n\n\nexport default fetchImages;\n","import * as PNotify from '@pnotify/core';\nimport '@pnotify/core/dist/PNotify.css'\nimport 'material-design-icons/iconfont/material-icons.css';\nimport '@pnotify/core/dist/Material.css';\nPNotify.defaults.styling = 'material';\nPNotify.defaults.icons = 'material';\n\nfunction notificationsSuccess(text) {\n  const notificationsSuccess = PNotify.success({\n    text: `Your request: ${text}`,\n    delay: 1000,\n  });\n\n  notificationsSuccess.on('click', () => {\n    notificationsSuccess.close();\n  });\n}\n\nfunction notificationsNotice() {\n  const notificationsNotice = PNotify.info({\n    text: 'Enter your request!',\n    delay: 1000,\n  });\n\n  notificationsNotice.on('click', () => {\n    notificationsNotice.close();\n  });\n}\nexport {notificationsSuccess,notificationsNotice};\n","import refs from './refs';\nimport fetchImages from './fetch-images';\nimport imagesApi from './images-api'\nimport {notificationsSuccess,notificationsNotice}from './notifications';\n\nfunction searchForm(event) {\n  refs.gallery.innerHTML='';\n  imagesApi.query = event.target.value;\n\n  if(!imagesApi.query) {\n    refs.gallery.innerHTML='';\n    refs.button.classList.add('visibility');\n    notificationsNotice();\n    return;\n  }\n\n\n  notificationsSuccess(imagesApi.query);\n  imagesApi.resetPage();\n\n  fetchImages();\n\n}\n\nexport default searchForm;\n","import './styles.scss';\nimport refs from './js/refs';\nimport debounce from 'lodash.debounce';\nimport 'material-design-icons/iconfont/material-icons.css'\nimport 'pure-css-loader/dist/css-loader.css'\nimport fetchImages from './js/fetch-images'\nimport searchForm from './js/search-form'\n\n\nrefs.formSearchInput.addEventListener('input',debounce(searchForm,500));\nrefs.button.addEventListener('click',fetchImages);\n\n\n\n\n\n\n\n\n\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li>\\n  <div class=\\\"gallery__item\\\">\\n\\n<a href='/' title='Open image'><img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":41},\"end\":{\"line\":5,\"column\":57}}}) : helper)))\n    + \"\\\" data-src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"largeImageURL\") || (depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":69},\"end\":{\"line\":5,\"column\":86}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"type\") || (depth0 != null ? lookupProperty(depth0,\"type\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"type\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":93},\"end\":{\"line\":5,\"column\":101}}}) : helper)))\n    + \"\\\" class='gallery__image'/></a>\\n    <div class=\\\"gallery__stats\\\">\\n      <p class=\\\"gallery__stats-item\\\">\\n        <i class=\\\"material-icons\\\">thumb_up</i>\\n        \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":8},\"end\":{\"line\":9,\"column\":17}}}) : helper)))\n    + \"\\n      </p>\\n      <p class=\\\"gallery__stats-item\\\">\\n        <i class=\\\"material-icons\\\">visibility</i>\\n        \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":8},\"end\":{\"line\":13,\"column\":17}}}) : helper)))\n    + \"\\n      </p>\\n      <p class=\\\"gallery__stats-item\\\">\\n        <i class=\\\"material-icons\\\">comment</i>\\n        \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":8},\"end\":{\"line\":17,\"column\":20}}}) : helper)))\n    + \"\\n      </p>\\n      <p class=\\\"gallery__stats-item\\\">\\n        <i class=\\\"material-icons\\\">cloud_download</i>\\n        \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":8},\"end\":{\"line\":21,\"column\":21}}}) : helper)))\n    + \"\\n      </p>\\n    </div>\\n  </div>\\n</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":26,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}